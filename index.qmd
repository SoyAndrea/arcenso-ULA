---
title: "`R` y datos censales: sistematización reproducible con el paquete `ARcenso`"
author: "Andrea Gomez Vargas"
institute: "Seminario de Ciencia Abierta"
date: "07/03/2025"
format:
  revealjs: 
    theme: custom.scss
    self-contained: false
    logo: images/hex.png
    highlight-style: a11y
    css: logo.css
    footer: "[**paquete ARcenso**](https://soyandrea.github.io/arcenso/)"
knitr:
  opts_chunk: 
    echo: true
    collapse: true
    comment: "#>"
    fig.path: "figures/"
from: markdown+emoji
---

## 

::: {style="text-align: center;"}
![](images/hex.png){width="40%"}
:::


## **`arcenso`**

Supported by the rOpenSci Champions Program cohort 2023-2024^[[Introducing rOpenSci Champions - Cohort 2023-2024](https://ropensci.org/blog/2024/02/15/champions-program-champions-2024/)], this project is led by lead developer Andrea Gómez Vargas, co-developer Emanuel Ciardullo, and mentor Luis D. Verde.

It is a citizen-driven initiative that emerged from our professional experience working with census data at the National Institute of Statistics and Census of Argentina (INDEC).


# rOpenSci Champions Program ⭐⭐⭐

## Objetivo

::::: columns
::: {.column width="65%"}
El programa se diseña para identificar, reconocer y premiar a miembros apasionados de las comunidades.

Con una duración de 12 meses que incluye formación basada en cohortes, desarrollo de un proyecto y mentorias 1:1. Y un estipendio de \$1.000 USD al completar el programa
:::

::: {.column width="35%"}
<br> <br><br> ![logo rOpenSci](images/SVG%20Brandpack/icon_lettering_white.svg)
:::
:::::

## ¿Cuál fue la propuesta?

<br>

**Generar un paquete que permita disponer de los datos oficiales de los censos nacionales de población en Argentina** provenientes del INDEC desde 1970 hasta 2022, homogeneizados, ordenados y listos para usar.

## Propuesta

> De cuadros de excel a **tablas ordenadas** en R

::::: columns
::: {.column width="70%"}
![cuadro de excel descargado](images/excel.png){width="110%"}
:::

::: {.column width="30%"}
![tabla ordenada en R](images/tabla.png){width="100%"}
:::
:::::

## ¿Por qué?

<br>

Actualmente los resultados históricos censales de **1970, 1980, 1991, 2001, 2010 y 2022** están disponibles en distintos formatos a través de libros físicos, PDFs, archivos en formato excel o en REDATAM, sin contar con un sistema o formato unificado que permita trabajar con los datos de estos seis periodos censales como base de datos.

# Proceso de trabajo

## pregunta - problema

¿Cómo empezar?

::: r-stack
![](images/censos.png){.fragment top="200" left="0" width="80%"}

![](images/meme.png){.fragment top="50" right="50" width="50%"}
:::

# Antes de las funciones: Marco conceptual


## FAIR Principles{.smaller}

**Findable:**

Centralized census data covering six national census periods (1970–2022), openly published in a single R data package with clear versioning.

**Accessible:**

Publicly available, homogenized census datasets provided in open formats and accompanied by comprehensive documentation and metadata.

**Interoperable:**

Tidy, well-structured tables that enable easy integration with other demographic, geographic, and socioeconomic datasets within the R ecosystem.

**Reusable:**

Includes detailed variable descriptions, standardized coding across census years, open licensing, and reproducible data structures that facilitate long-term use and cross-study comparisons.

## Census Data: Themes and Structure (UN Framework){.smaller}

<br>

::: {.columns}

::: {.column width="5%"}
:::

::: {.column width="30%"}
#### Census Topics
- **Core:** Essential variables  
  (e.g., age, sex, population)
- **Derived-core:** Calculated variables  
  (e.g., fertility rates)
- **Additional:** Country-specific topics  
  (e.g., religion)
:::

::: {.column width="5%"}
:::

::: {.column width="30%"}
#### Conceptual Units
- **Population:** Individuals
- **Housing:** Physical dwellings
- **Household:** People sharing a dwelling
:::

::: {.column width="30%"}
#### Geographic Coverage
- **National level**
- **Jurisdictional level**
:::

:::



# Problema

## Lluvia de excels y formatos no estandarizados

::: r-stack
![](images/lluvia.png){.fragment top="200" left="0" width="60%"}

![](images/cuadro2.png){.fragment top="100" left="0" width="80%"}

![](images/cuadro.png){.fragment top="50" right="50" width="80%"}

![](images/meme3.png){.fragment top="50" right="50" width="40%"}

![](images/meme2.png){.fragment top="50" right="50" width="40%"}
:::

## Fabrica de excels

<br> <br>

| Año censal | Alcance nacional | Alcance jurisdiccional | Total |
|------------|------------------|------------------------|-------|
| 1970       | 21               | 312                    | 333   |
| 1980       | 60               | 1176                   | 1236  |

<br>

> **+1500** excels por los censos de 1970 y 1980

## ¿Cómo nos organizamos?

<br>

::: columns
::: {.column width="15%"}

![](images/python.png)
<br>

![](images/R.png)
<br>

![](images/github.png)

:::

::: {.column width="85%"}

- **Download:** Automated web scraping to collect census tables from official sources.

- **Select:** Listed, classified, and extracted relevant files and metadata (census year, geography, topics).

- **Transform:** Converted Excel tables into tidy, standardized datasets using base R.

- **Function development:** Built R functions to access, manipulate, and visualize the data efficiently.

- **Package creation:** Integrated datasets and functions into the ARcenso package for easy use and reproducibility.

- **Version control:** Used Git and GitHub for tracking changes, collaboration, and release management.
 
:::

::: 



## Etapas censales

<br>

| Stage | Census years      | Geographic level               | 
|-------|-------------------|--------------------------------|
| 1     | 1970              | National and 24 jurisdictions  | 
|       | 1980              | National level                 | 
| 2     | 1991 and 2001     | National level                 |                                        
| 3     | 2010              | National level                 |                                        
| 4     | 2022              | National level                 |                                        
| 5     | 1980 and 1991     | 24 jurisdictions               |                                        
| 6     | 2001 and 2010     | 24 jurisdictions               |                                        
| 7     | 2022              | 24 jurisdictions               |                                        


## Manos a la obra :hammer_and_wrench:

<br>

::::: columns
::: {.column width="15%"}
![](images/python.png) <br>

![](images/R.png)
:::

::: {.column width="85%"}
-   webscraping para descarga de cuadros censales

-   listar los archivos descargados extrayendo su información

-   para la conversión de los cuadros de excel en formato tidy en Rbase
:::
:::::

# Armar {arcenso} :package:

## Paquetes

![hex de paquetes de trabajo](images/packages.png)

## ¿Cómo usarlo?

<br>

### Instalación

```{r  eval=FALSE}
# install.packages("remotes")
remotes::install_github("SoyAndrea/arcenso")
```

<br> <br>

### Activación del paquete

```{r}
library(arcenso)
```

## Principales funciones

### `get_census()`

```{r}
#| eval: false
get_census(year = 1970, 
           topic = "CONDICIONES HABITACIONALES", 
           geolvl = "Total del país")
```

<br>

### `check_repository()`

```{r}
#| eval: false
check_repository(year = 1970, 
                 topic = "CONDICIONES HABITACIONALES", 
                 geolvl = "Total del país")
```

<br>

### `arcenso()`

```{r eval=FALSE}
arcenso() # shinyapp consulta
```

## Veamos un ejemplo práctico

```{r echo=FALSE}
knitr::include_url("arcenso.html",height = 600)
```

# Próximos pasos y metas :dizzy:

## :footprints:

:::::: incremental
::::: columns
::: {.column width="40%"}
![](https://i.pinimg.com/originals/9f/ff/73/9fff730a3d58f7973f6e2891ee468a2d.gif)
:::

::: {.column width="60%"}
-   mejorar la documentación
-   continuar con el roadmap por etapas y el proceso de clasificación, revisión y formateo.
-   lograr los estandares óptimos para llegar al peer-review
-   sumar a mas usuarios a utilizar el paquete
:::
:::::
::::::

# ![](images/SVG%20Brandpack/icon_lettering_white.svg){width="70%"} 2025

## Sumate a las actividades

<br> <br>

::: incremental
-   rOpenSci Champions Program 2025

-   Software Peer Review

-   Community Calls

-   Coworking
:::

# Preguntas :grin:

# Gracias :grin:
